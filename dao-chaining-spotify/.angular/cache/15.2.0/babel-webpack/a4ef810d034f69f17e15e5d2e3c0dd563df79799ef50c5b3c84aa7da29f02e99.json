{"ast":null,"code":"var _asyncToGenerator = require(\"C:/Users/trach/DAO/dao-chaining-spotify/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nconst BaseFilter = require('./base-filter');\nconst getBlocksForRange = require('./getBlocksForRange');\nconst {\n  incrementHexInt\n} = require('./hexUtils');\nclass BlockFilter extends BaseFilter {\n  constructor({\n    provider,\n    params\n  }) {\n    super();\n    this.type = 'block';\n    this.provider = provider;\n  }\n  update({\n    oldBlock,\n    newBlock\n  }) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      const toBlock = newBlock;\n      const fromBlock = incrementHexInt(oldBlock);\n      const blockBodies = yield getBlocksForRange({\n        provider: _this.provider,\n        fromBlock,\n        toBlock\n      });\n      const blockHashes = blockBodies.map(block => block.hash);\n      _this.addResults(blockHashes);\n    })();\n  }\n}\nmodule.exports = BlockFilter;","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}